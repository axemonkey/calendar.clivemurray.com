(()=>{var g=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var $=(e,t)=>(console.log("get days in month: ".concat(e,", ").concat(t)),new Date(e,t+1,0).getDate()),m=(e,t,o)=>new Date(e,t,o).getDay(),i=e=>Number(e)<10?"0".concat(e):"".concat(e),f=()=>new URLSearchParams(document.location.search);var p=async(e,t)=>(console.log("get bank holidays for: ".concat(e,", ").concat(t)),(await(await fetch("https://www.gov.uk/bank-holidays.json")).json())["england-and-wales"].events);var D=()=>{console.log("go");let e,t,o=f();if(o.get("year")&&o.get("month"))e=Number(o.get("year")),t=Number(o.get("month"));else{let n=new Date;t=n.getMonth(),e=n.getFullYear()}b(e,t),w(e,t)},b=(e,t)=>{let o=t===0?11:t-1,n=t===0?e-1:e,c=t===11?0:t+1,r=t===11?e+1:e;document.querySelector(".prevMonth").innerHTML='<a href="/?year='.concat(n,"&month=").concat(o,'">&lt;&lt;</a>'),document.querySelector(".nextMonth").innerHTML='<a href="/?year='.concat(r,"&month=").concat(c,'">&gt;&gt;</a>')},w=(e,t)=>{let o=g[t],n=$(e,t),c=m(e,t,1),r=h[c-1];console.log("".concat(o," ").concat(e," has ").concat(n," days")),console.log("first day of month: ".concat(r)),document.querySelector(".monthTitle").textContent="".concat(o," ").concat(e);let y=document.querySelector(".monthHeader"),l=document.querySelector(".monthBody");l.replaceChildren();for(let a of h){let s=document.createElement("div");s.innerHTML=a.slice(0,3),s.className="dayHeader day-".concat(a),y.append(s)}let d=1;for(let a=1;a<=n;a++){let s=document.createElement("div");s.innerHTML="<p>".concat(a,"</p>");let u=m(e,t,a-1);s.className="day day".concat(a," day-").concat(h[u].toLowerCase()," week").concat(d),u>=5&&s.classList.add("weekend"),a<=7&&s.classList.add("first7"),a>n-7&&s.classList.add("last7"),a===n&&s.classList.add("last"),s.dataset.date="".concat(e,"-").concat(i(t+1),"-").concat(i(a)),l.append(s),u===6&&d++}L(e,t,n)},L=async(e,t,o)=>{await p(e,t).then(n=>{v(n,e,t,o)})},v=(e,t,o,n)=>{console.log(e);for(let c=1;c<=n;c++){let r="".concat(t,"-").concat(i(o+1),"-").concat(i(c));for(let y of e)if(y.date===r){console.log("BH found! ".concat(r));let l=document.querySelector('[data-date="'.concat(r,'"]'));l.classList.add("bh");let d=document.createElement("div");d.classList.add("bhLabel"),d.textContent="Bank Holiday",l.append(d)}}};window.addEventListener("load",D);})();
//# sourceMappingURL=main-ea3b05b.js.map */
